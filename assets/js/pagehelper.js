function videoTimeHook_(global){var workerURLs=[],extraElements=[],normalUtil_isInIframe=function(){let is=global.parent!==global;try{is=is&&"FRAMESET"!==global.parent.document.body.tagName}catch(e){}return is},normalUtil_listenParentEvent=function(handler){global.addEventListener("message",(function(e){var data=e.data;"changePercentage"===(data.type||"")&&handler(data.percentage||0)}))},normalUtil_sentChangesToIframe=function(percentage){var iframes=document.querySelectorAll("iframe")||[],frames=document.querySelectorAll("frame");if(iframes.length)for(var i=0;i<iframes.length;i++)iframes[i].contentWindow.postMessage({type:"changePercentage",percentage:percentage},"*");if(frames.length)for(var j=0;j<frames.length;j++)frames[j].contentWindow.postMessage({type:"changePercentage",percentage:percentage},"*")},querySelectorAll=function(ele,selector,includeExtra){var elements=ele.querySelectorAll(selector);return elements=Array.prototype.slice.call(elements||[]),includeExtra&&extraElements.forEach((function(element){elements=elements.concat(querySelectorAll(element,selector,!1))})),elements};global.eHook&&global.eHook.plugins({name:"timer",mount:function(util){workerURLs.forEach((function(url){util.urlMatching(location.href,"http.*://.*"+url+".*")&&(window.Worker=void 0)}));var eHookContext=this,timerHooker={_intervalIds:{},_timeoutIds:{},_auoUniqueId:1,__percentage:1,_setInterval:window.setInterval,_clearInterval:window.clearInterval,_clearTimeout:window.clearTimeout,_setTimeout:window.setTimeout,_Date:window.Date,__lastDatetime:(new Date).getTime(),__lastMDatetime:(new Date).getTime(),videoSpeedInterval:1e3,genUniqueId:function(){return this._auoUniqueId++},notifyExec:function(uniqueId){var _this=this;uniqueId&&Object.values(this._timeoutIds).filter((function(info){return info.uniqueId===uniqueId})).forEach((function(info){_this._clearTimeout.call(window,info.nowId),delete _this._timeoutIds[info.originId]}))},init:function(){var timerContext=this,h=function(eHookContext,timerContext,util){return{applyUI:function(){},applyGlobalAction:function(timer){timer.changeTime=function(anum,cnum,isa,isr){if(isr)global.timer.change(1);else if(global.timer){var result;if(anum||cnum)if(isa&&anum){if(1/timerContext._percentage<=1&&anum<0)return;result=1/(1/timerContext._percentage+anum)}else cnum<=0&&(cnum=1/-cnum),result=1/(1/timerContext._percentage*cnum);else{var t=prompt("Please input times of the playback speed(now:"+1/timerContext._percentage+")");if(null==t)return;if(isNaN(parseFloat(t)))return alert("Please enter the correct number"),void timer.changeTime();if(parseFloat(t)<=0)return alert("Cannot be less than or equal to 0"),void timer.changeTime();result=1/parseFloat(t)}timer.change(result)}},global.changeTime=timer.changeTime},applyHooking:function(){var _this=this;eHookContext.hookReplace(window,"setInterval",(function(setInterval){return _this.getHookedTimerFunction("interval",setInterval)})),eHookContext.hookReplace(window,"setTimeout",(function(setTimeout){return _this.getHookedTimerFunction("timeout",setTimeout)})),eHookContext.hookBefore(window,"clearInterval",(function(method,args){_this.redirectNewestId(args)})),eHookContext.hookBefore(window,"clearTimeout",(function(method,args){_this.redirectNewestId(args)}));var newFunc=this.getHookedDateConstructor();eHookContext.hookClass(window,"Date",newFunc,"_innerDate",["now"]),Date.now=function(){return(new Date).getTime()},eHookContext.hookedToString(timerContext._Date.now,Date.now);var objToString=Object.prototype.toString;Object.prototype.toString=function(){"use strict";return this instanceof timerContext._mDate?"[object Date]":objToString.call(this)},eHookContext.hookedToString(objToString,Object.prototype.toString),eHookContext.hookedToString(timerContext._setInterval,setInterval),eHookContext.hookedToString(timerContext._setTimeout,setTimeout),eHookContext.hookedToString(timerContext._clearInterval,clearInterval),timerContext._mDate=window.Date,this.hookShadowRoot()},getHookedDateConstructor:function(){return function(){if(1!==arguments.length)if(arguments.length>1){var definedValue;switch(arguments.length){case 2:definedValue=new timerContext._Date(arguments[0],arguments[1]);break;case 3:definedValue=new timerContext._Date(arguments[0],arguments[1],arguments[2]);break;case 4:definedValue=new timerContext._Date(arguments[0],arguments[1],arguments[2],arguments[3]);break;case 5:definedValue=new timerContext._Date(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);break;case 6:definedValue=new timerContext._Date(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);break;default:definedValue=new timerContext._Date(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6])}Object.defineProperty(this,"_innerDate",{configurable:!1,enumerable:!1,value:definedValue,writable:!1})}else{var hookPassTime=(timerContext._Date.now()-timerContext.__lastDatetime)*(1/timerContext._percentage);Object.defineProperty(this,"_innerDate",{configurable:!1,enumerable:!1,value:new timerContext._Date(timerContext.__lastMDatetime+hookPassTime),writable:!1})}else Object.defineProperty(this,"_innerDate",{configurable:!1,enumerable:!1,value:new timerContext._Date(arguments[0]),writable:!1})}},getHookedTimerFunction:function(type,timer){var property="_"+type+"Ids";return function(){var uniqueId=timerContext.genUniqueId(),callback=arguments[0];"string"==typeof callback&&(arguments[0]=callback+=";timer.notifyExec("+uniqueId+")"),"function"==typeof callback&&(arguments[0]=function(){var returnValue=callback.apply(this,arguments);return timerContext.notifyExec(uniqueId),returnValue});var originMS=arguments[1];arguments[1]*=timerContext._percentage;var resultId=timer.apply(window,arguments);return timerContext[property][resultId]={args:arguments,originMS:originMS,originId:resultId,nowId:resultId,uniqueId:uniqueId,oldPercentage:timerContext._percentage,exceptNextFireTime:timerContext._Date.now()+originMS},resultId}},redirectNewestId:function(args){var id=args[0];timerContext._intervalIds[id]&&(args[0]=timerContext._intervalIds[id].nowId,delete timerContext._intervalIds[id]),timerContext._timeoutIds[id]&&(args[0]=timerContext._timeoutIds[id].nowId,delete timerContext._timeoutIds[id])},registerShortcutKeys:function(timer){addEventListener("keydown",(function(e){switch(e.keyCode){case 190:e.ctrlKey&&timer.changeTime(2,0,!0);break;case 188:e.ctrlKey&&timer.changeTime(-2,0,!0);break;case 48:(e.ctrlKey||e.altKey)&&timer.changeTime(0,0,!1,!0)}}))},percentageChangeHandler:function(percentage){util.ergodicObject(timerContext,timerContext._intervalIds,(function(idObj,id){idObj.args[1]=Math.floor((idObj.originMS||1)*percentage),this._clearInterval.call(window,idObj.nowId),idObj.nowId=this._setInterval.apply(window,idObj.args)})),util.ergodicObject(timerContext,timerContext._timeoutIds,(function(idObj,id){var now=this._Date.now(),exceptTime=idObj.exceptNextFireTime,oldPercentage=idObj.oldPercentage,time=exceptTime-now;time<0&&(time=0);var changedTime=Math.floor(percentage/oldPercentage*time);idObj.args[1]=changedTime,idObj.exceptNextFireTime=now+changedTime,idObj.oldPercentage=percentage,this._clearTimeout.call(window,idObj.nowId),idObj.nowId=this._setTimeout.apply(window,idObj.args)}))},hookShadowRoot:function(){var origin=Element.prototype.attachShadow;eHookContext.hookAfter(Element.prototype,"attachShadow",(function(m,args,result){return extraElements.push(result),result}),!1),eHookContext.hookedToString(origin,Element.prototype.attachShadow)}}}(eHookContext,timerContext,util);h.applyHooking(),Object.defineProperty(timerContext,"_percentage",{get:function(){return timerContext.__percentage},set:function(percentage){return percentage===timerContext.__percentage||(h.percentageChangeHandler(percentage),timerContext.__percentage=percentage),percentage}}),normalUtil_isInIframe()?normalUtil_listenParentEvent(function(percentage){this.change(percentage)}.bind(this)):(h.applyUI(),h.applyGlobalAction(timerContext),h.registerShortcutKeys(timerContext))},change:function(percentage){var _this=this;this.__lastMDatetime=this._mDate.now(),this.__lastDatetime=this._Date.now(),this._percentage=percentage;var oldNode=document.getElementsByClassName("_th-click-hover"),oldNode1=document.getElementsByClassName("_th_times"),displayNum=(1/this._percentage).toFixed(2);(oldNode[0]||{}).innerHTML="x"+displayNum,(oldNode1[0]||{}).innerHTML="x"+displayNum;var a=document.getElementsByClassName("_th_cover-all-show-times")[0]||{};a.className="_th_cover-all-show-times",this._setTimeout.bind(window)((function(){a.className="_th_cover-all-show-times _th_hidden"}),100),this.changeVideoSpeed(),this._clearInterval.bind(window)(this.videoSpeedIntervalId),this.videoSpeedIntervalId=this._setInterval.bind(window)((function(){_this.changeVideoSpeed(),1==1/_this._percentage&&_this._clearInterval.bind(window)(_this.videoSpeedIntervalId)}),this.videoSpeedInterval),normalUtil_sentChangesToIframe(percentage)},changeVideoSpeed:function(){var rate=1/this._percentage;rate>16&&(rate=16),rate<.065&&(rate=.065);var videos=querySelectorAll(document,"video",!0)||[];if(videos.length)for(var i=0;i<videos.length;i++)videos[i].playbackRate=rate}};return timerHooker.init(),timerHooker}})}!function(root,factory){if("object"==typeof exports&&"object"==typeof module)module.exports=factory();else if("function"==typeof define&&define.amd)define([],factory);else{var a=factory();for(var i in a)("object"==typeof exports?exports:root)[i]=a[i]}}("undefined"!=typeof self?self:this,(function(){return __webpack_modules__=[function(module,__unused_webpack_exports,__webpack_require__){"use strict";const eUtils=__webpack_require__(1);!function(global,factory){if("object"==typeof module.exports){var results=factory.bind(global)(global,eUtils,!0)||[],HookJS={};results.forEach((function(part){HookJS[part.name]=part.module})),module.exports=HookJS}else factory.bind(global)(global,eUtils)}("undefined"!=typeof window?window:this,(function(_global,utils,noGlobal){var EHook=function(){var _autoId=1,_hookedMap={},_hookedContextMap={};this._getHookedMap=function(){return _hookedMap},this._getHookedContextMap=function(){return _hookedContextMap},this._getAutoStrId=function(){return"__auto__"+_autoId++},this._getAutoId=function(){return _autoId++}};if(EHook.prototype={_getHookedId:function(context){var contextMap=this._getHookedContextMap(),hookedId=null;return Object.keys(contextMap).forEach((key=>{context===contextMap[key]&&(hookedId=key)})),null==hookedId&&(hookedId=this._getAutoStrId(),contextMap[hookedId]=context),hookedId},_getHookedMethodMap:function(context){var hookedId=this._getHookedId(context),hookedMap=this._getHookedMap(),thisTask=hookedMap[hookedId];return utils.isExistObject(thisTask)||(thisTask=hookedMap[hookedId]={}),thisTask},_getHookedMethodTask:function(context,methodName){var thisMethodMap=this._getHookedMethodMap(context),thisMethod=thisMethodMap[methodName];return utils.isExistObject(thisMethod)||(thisMethod=thisMethodMap[methodName]={original:void 0,replace:void 0,task:{before:[],current:void 0,after:[]}}),thisMethod},_invokeMethods:function(context,methods,args){if(utils.isArray(methods)){var result=null;return utils.ergodicArrayObject(context,methods,(function(_method){if(utils.isFunction(_method.method)){var r=_method.method.apply(this,args);null!=r&&(result=r)}})),result}},_hook:function(parent,methodName,context){void 0===context&&(context=parent);var method=parent[methodName],methodTask=this._getHookedMethodTask(parent,methodName);if(methodTask.original||(methodTask.original=method),utils.isExistObject(methodTask.replace)&&utils.isFunction(methodTask.replace.method))parent[methodName]=methodTask.replace.method(methodTask.original);else{var invokeMethods=this._invokeMethods,builder=new utils.FunctionBuilder((function(v){return{result:void 0}}));methodTask.task.before.length>0&&builder.push((function(v){invokeMethods(context||v.this,methodTask.task.before,[methodTask.original,v.arguments])})),utils.isExistObject(methodTask.task.current)&&utils.isFunction(methodTask.task.current.method)?builder.push((function(v){return{result:methodTask.task.current.method.call(context||v.this,parent,methodTask.original,v.arguments)}})):builder.push((function(v){return{result:methodTask.original.apply(context||v.this,v.arguments)}})),methodTask.task.after.length>0&&builder.push((function(v){var args=[];args.push(methodTask.original),args.push(v.arguments),args.push(v.result);var r=invokeMethods(context||v.this,methodTask.task.after,args);return{result:null!=r?r:v.result}})),builder.push((function(v){return{returnValue:v.result}}));var resultFunc=builder.result();for(var proxyName in methodTask.original)Object.defineProperty(resultFunc,proxyName,{get:function(){return methodTask.original[proxyName]},set:function(v){methodTask.original[proxyName]=v}});resultFunc.prototype=methodTask.original.prototype,parent[methodName]=resultFunc}},hook:function(parent,methodName,config){var hookedFailure=-1,context=void 0!==config.context?config.context:parent;if(null==parent[methodName]&&(parent[methodName]=function(){}),!utils.isFunction(parent[methodName]))return hookedFailure;var methodTask=this._getHookedMethodTask(parent,methodName),id=this._getAutoId();return utils.isFunction(config.replace)&&(methodTask.replace={id:id,method:config.replace},hookedFailure=0),utils.isFunction(config.before)&&(methodTask.task.before.push({id:id,method:config.before}),hookedFailure=0),utils.isFunction(config.current)&&(methodTask.task.current={id:id,method:config.current},hookedFailure=0),utils.isFunction(config.after)&&(methodTask.task.after.push({id:id,method:config.after}),hookedFailure=0),0===hookedFailure?(this._hook(parent,methodName,context),id):hookedFailure},hookReplace:function(parent,methodName,replace,context){return this.hook(parent,methodName,{replace:replace,context:context})},hookBefore:function(parent,methodName,before,context){return this.hook(parent,methodName,{before:before,context:context})},hookCurrent:function(parent,methodName,current,context){return this.hook(parent,methodName,{current:current,context:context})},hookAfter:function(parent,methodName,after,context){return this.hook(parent,methodName,{after:after,context:context})},hookClass:function(parent,className,replace,innerName,excludeProperties){var _this=this,originFunc=parent[className];excludeProperties||(excludeProperties=[]),excludeProperties.push("prototype"),excludeProperties.push("caller"),excludeProperties.push("arguments"),innerName=innerName||"_innerHook";var resFunc=function(){this[innerName]=new originFunc,replace.apply(this,arguments)};this.hookedToString(originFunc,resFunc),this.hookedToProperties(originFunc,resFunc,!0,excludeProperties);var prototypeProperties=Object.getOwnPropertyNames(originFunc.prototype),prototype=resFunc.prototype={constructor:resFunc};prototypeProperties.forEach((function(name){if("constructor"!==name){var method=function(){if(originFunc.prototype[name]&&utils.isFunction(originFunc.prototype[name]))return originFunc.prototype[name].apply(this[innerName],arguments)};_this.hookedToString(originFunc.prototype[name],method),prototype[name]=method}})),this.hookReplace(parent,className,(function(){return resFunc}),parent)},hookedToProperties:function(originObject,resultObject,isDefined,excludeProperties){Object.getOwnPropertyNames(originObject).forEach((function(property){utils.contains(excludeProperties,property)||(isDefined?Object.defineProperty(resultObject,property,{configurable:!1,enumerable:!1,value:originObject[property],writable:!1}):resultObject[property]=originObject[property])}))},hookedToString:function(originObject,resultObject){Object.defineProperties(resultObject,{toString:{configurable:!1,enumerable:!1,value:originObject.toString.bind(originObject),writable:!1},toLocaleString:{configurable:!1,enumerable:!1,value:originObject.toLocaleString.bind(originObject),writable:!1}})},hookAjax:function(methods){if(!this.isHooked(_global,"XMLHttpRequest")){var _this=this,hookMethod=function(methodName){return utils.isFunction(methods[methodName])&&_this.hookBefore(this.xhr,methodName,methods[methodName]),this.xhr[methodName].bind(this.xhr)},getProperty=function(attr){return function(){return this.hasOwnProperty(attr+"_")?this[attr+"_"]:this.xhr[attr]}},setProperty=function(attr){return function(f){var xhr=this.xhr;0===attr.indexOf("on")?methods[attr]?(xhr[attr]=function(){f.apply(xhr,arguments)},_this.hookBefore(xhr,attr,methods[attr])):xhr[attr]=f:this[attr+"_"]=f}};return this.hookReplace(_global,"XMLHttpRequest",(function(XMLHttpRequest){var resFunc=function(){for(var propertyName in this.xhr=new XMLHttpRequest,this.xhr){var property=this.xhr[propertyName];utils.isFunction(property)?this[propertyName]=hookMethod.bind(this)(propertyName):Object.defineProperty(this,propertyName,{get:getProperty(propertyName),set:setProperty(propertyName)})}this.xhr.xhr=this};return _this.hookedToProperties(XMLHttpRequest,resFunc,!0),_this.hookedToString(XMLHttpRequest,resFunc),resFunc}))}},hookAjaxV2:function(methods){this.hookClass(window,"XMLHttpRequest",(function(){})),utils.ergodicObject(this,methods,(function(method){}))},unHook:function(context,methodName,isDeeply,eqId){if(context[methodName]&&utils.isFunction(context[methodName])){var methodTask=this._getHookedMethodTask(context,methodName);eqId&&this.unHookById(eqId)||(methodTask.original?(context[methodName]=methodTask.original,isDeeply&&delete this._getHookedMethodMap(context)[methodName]):delete this._getHookedMethodMap(context)[methodName])}},unHookById:function(eqId){var hasEq=!1;if(eqId){var hookedMap=this._getHookedMap();utils.ergodicObject(this,hookedMap,(function(contextMap){utils.ergodicObject(this,contextMap,(function(methodTask){methodTask.task.before=methodTask.task.before.filter((function(before){return hasEq=hasEq||before.id===eqId,before.id!==eqId})),methodTask.task.after=methodTask.task.after.filter((function(after){return hasEq=hasEq||after.id===eqId,after.id!==eqId})),methodTask.task.current&&methodTask.task.current.id===eqId&&(methodTask.task.current=void 0,hasEq=!0),methodTask.replace&&methodTask.replace.id===eqId&&(methodTask.replace=void 0,hasEq=!0)}))}))}return hasEq},removeHookMethod:function(context,methodName){context[methodName]&&utils.isFunction(context[methodName])&&(this._getHookedMethodMap(context)[methodName]={original:void 0,replace:void 0,task:{before:[],current:void 0,after:[]}})},isHooked:function(context,methodName){var hookMap=this._getHookedMethodMap(context);return void 0!==hookMap[methodName]&&void 0!==hookMap[methodName].original},protect:function(parent,methodName){Object.defineProperty(parent,methodName,{configurable:!1,writable:!1})},preventError:function(parent,methodName,returnValue,context){this.hookCurrent(parent,methodName,(function(m,args){var value=returnValue;try{value=m.apply(this,args)}catch(e){}return value}),context)},plugins:function(option){if(utils.isFunction(option.mount)){var result=option.mount.call(this,utils);"string"==typeof option.name&&(_global[option.name]=result)}}},!(_global.eHook&&_global.eHook instanceof EHook)){var eHook=new EHook,AHook=function(){this.isHooked=!1;var autoId=1;this._urlDispatcherList=[],this._getAutoId=function(){return autoId++}};return AHook.prototype={_invokeAimMethods:function(xhr,methodName,args){var configs=utils.parseArrayByProperty(xhr.patcherList,"config"),methods=[];return utils.ergodicArrayObject(xhr,configs,(function(config){utils.isFunction(config[methodName])&&methods.push(config[methodName])})),utils.invokeMethods(xhr,methods,args)},_urlPatcher:function(url){var patcherList=[];return utils.ergodicArrayObject(this,this._urlDispatcherList,(function(patcherMap,i){utils.UrlUtils.urlMatching(url,patcherMap.patcher)&&patcherList.push(patcherMap)})),patcherList},_xhrDispatcher:function(xhr,fullUrl){var url=utils.UrlUtils.getUrlWithoutParam(fullUrl);xhr.patcherList=this._urlPatcher(url)},_parseEvent:function(e,xhr){try{Object.defineProperties(e,{target:{get:function(){return xhr}},srcElement:{get:function(){return xhr}}})}catch(error){}return e},_parseOpenArgs:function(args){return{method:args[0],fullUrl:args[1],url:utils.UrlUtils.getUrlWithoutParam(args[1]),params:utils.UrlUtils.getParamFromUrl(args[1]),async:args[2]}},_rebuildOpenArgs:function(argsObject,argsArray){argsArray[0]=argsObject.method,argsArray[1]=utils.UrlUtils.margeUrlAndParams(argsObject.url,argsObject.params),argsArray[2]=argsObject.async},_getHookedArgs:function(args){return Array.prototype.slice.call(args,0).splice(1)},_onResponse:function(outerXhr,funcArgs){var args=this._getHookedArgs(funcArgs);args[0][0]=this._parseEvent(args[0][0],outerXhr.xhr);var results=this._invokeAimMethods(outerXhr,"hookResponse",args),resultIndex=-1;utils.ergodicArrayObject(outerXhr,results,(function(res,i){null!=res&&(resultIndex=i)})),-1!==resultIndex&&(outerXhr.xhr.responseText_=outerXhr.xhr.response_=results[resultIndex])},startHook:function(){var _this=this,normalMethods={onreadystatechange:function(){(4==this.readyState&&200==this.status||304==this.status)&&_this._onResponse(this,arguments)},onload:function(){_this._onResponse(this,arguments)},open:function(){var args=_this._getHookedArgs(arguments),fullUrl=args[0][1];_this._xhrDispatcher(this,fullUrl);var argsObject=_this._parseOpenArgs(args[0]);this.openArgs=argsObject,_this._invokeAimMethods(this,"hookRequest",[argsObject]),_this._rebuildOpenArgs(argsObject,args[0])},send:function(){var args=_this._getHookedArgs(arguments);this.sendArgs=args,_this._invokeAimMethods(this,"hookSend",args)}};this.___hookedId=_global.eHook.hookAjax(normalMethods),this.isHooked=!0},register:function(urlPatcher,configOrRequest,response){if(!urlPatcher)return-1;if(!utils.isExistObject(configOrRequest)&&!utils.isFunction(response))return-1;var config={};utils.isFunction(configOrRequest)&&(config.hookRequest=configOrRequest),utils.isFunction(response)&&(config.hookResponse=response),utils.isExistObject(configOrRequest)&&(config=configOrRequest);var id=this._getAutoId();return this._urlDispatcherList.push({id:id,patcher:urlPatcher,config:config}),this.isHooked||this.startHook(),id}},_global.eHook=eHook,_global.aHook=new AHook,[{name:"eHook",module:eHook},{name:"aHook",module:_global.aHook}]}}))},function(module){!function(global,factory){"use strict";"object"==typeof module.exports?module.exports=factory(global):factory(global)}("undefined"!=typeof window?window:this,(function(_global,noGlobal){var map=Array.prototype.map,forEach=Array.prototype.forEach,BaseUtils=(Array.prototype.reduce,{isArray:function(arr){return Array.isArray(arr)||"[object Array]"===Object.prototype.toString.call(arr)},isFunction:function(func){return!!func&&"function"==typeof func},isExistObject:function(obj){return obj&&"object"==typeof obj},isString:function(str){return null!==str&&"string"==typeof str},uniqueNum:1e3,buildUniqueId:function(){var prefix=(new Date).getTime().toString(),suffix=this.uniqueNum.toString();return this.uniqueNum++,prefix+suffix}}),serviceProvider={_parseDepends:function(depends){var dependsArr=[];if(BaseUtils.isArray(depends))return forEach.call(depends,(function(depend){BaseUtils.isString(depend)&&dependsArr.push(serviceProvider[depend.toLowerCase()])})),dependsArr}},factory=function(name,depends,construction){BaseUtils.isFunction(construction)&&(serviceProvider[name.toLowerCase()]=construction.apply(this,serviceProvider._parseDepends(depends)))},depend=function(depends,construction){BaseUtils.isFunction(construction)&&construction.apply(this,serviceProvider._parseDepends(depends))};return factory("BaseUtils",[],(function(){return BaseUtils})),factory("logger",[],(function(){return console})),factory("DateTimeUtils",["logger"],(function(logger){return{printNowTime:function(){new Date},pattern:function(date,fmt){var o={"M+":date.getMonth()+1,"d+":date.getDate(),"h+":date.getHours()%12==0?12:date.getHours()%12,"H+":date.getHours(),"m+":date.getMinutes(),"s+":date.getSeconds(),"q+":Math.floor((date.getMonth()+3)/3),S:date.getMilliseconds()};for(var k in/(y+)/.test(fmt)&&(fmt=fmt.replace(RegExp.$1,(date.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(fmt)&&(fmt=fmt.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"/u661f/u671f":"/u5468":"")+{0:"/u65e5",1:"/u4e00",2:"/u4e8c",3:"/u4e09",4:"/u56db",5:"/u4e94",6:"/u516d"}[date.getDay()+""])),o)new RegExp("("+k+")").test(fmt)&&(fmt=fmt.replace(RegExp.$1,1===RegExp.$1.length?o[k]:("00"+o[k]).substr((""+o[k]).length)));return fmt},getCurrentId:function(){return(new Date).getTime()},getNowBetweenADay:function(date,isCeil,type){if(type||(type="day"),"number"==typeof date&&(date=new Date(date)),!(date instanceof Date))throw new TypeError("The parameter type must be Date");var time=date.getTime(),now=new Date,nowTime=now.getTime();nowTime-time<0&&logger.warn("The time to be calculated must be before the current time");var result=0;switch(type){default:case"day":result=(nowTime-time)/864e5;break;case"month":var yearDifference=now.getFullYear()-date.getFullYear();yearDifference>0&&(result+=12*yearDifference),result+=now.getMonth()-date.getMonth();break;case"year":result+=now.getFullYear()-date.getFullYear()}return isCeil?(0===result&&isCeil&&(result=1),Math.ceil(result)):Math.floor(result)}}})),factory("ArrayUtils",["BaseUtils"],(function(BaseUtils){return{isArrayObject:function(arr){return BaseUtils.isArray(arr)},ergodicArrayObject:function(context,arr,cb){if(context||(context=_global),BaseUtils.isArray(arr)&&BaseUtils.isFunction(cb))for(var i=0;i<arr.length;i++){var result=cb.call(context,arr[i],i);if(result&&-1===result)break}},getPropertyDo:function(context,arr,propertyName,cb,checkProperty){null===checkProperty&&(checkProperty=!0),this.ergodicArrayObject(context,arr,(function(ele){checkProperty&&!ele.hasOwnProperty(propertyName)||cb.call(context,ele[propertyName],ele)}))},parseKeyValue:function(arr){var map={};return BaseUtils.isArray(arr)?(this.ergodicArrayObject(this,arr,(function(ele){null!==ele.key&&(map.hasOwnProperty(ele.key)||(map[ele.key]=ele.value))})),map):map},getHashCode:function(arr){var str=arr.toString(),hash=31;if(0===str.length)return hash;for(var i=0;i<str.length;i++)hash=(hash<<5)-hash+str.charCodeAt(i),hash&=hash;return hash},parseArrayByProperty:function(arr,propertyName){var result=[];return this.isArrayObject(arr)?(this.getPropertyDo(this,arr,propertyName,(function(value){result.push(value)}),!0),result):result},isContainsObject:function(arr,obj,cb){var isContainsObject=!1;return this.ergodicArrayObject(this,arr,(function(value,i){if(obj===value)return isContainsObject=!0,BaseUtils.isFunction(cb)&&cb.call(_global,i),-1})),isContainsObject},getMaxInArray:function(arr,cb){for(var maxObject=null,maxIndex=-1;null===maxObject&&maxIndex<arr.length;)maxObject=arr[++maxIndex];for(var i=maxIndex+1;i<arr.length;i++)if(null!==maxObject&&this.isArrayObject(maxObject)&&this.isArrayObject(arr[i])){for(var classLength=maxObject.length,classLevel=0;maxObject[classLevel]===arr[i][classLevel]&&classLevel<classLength;)classLevel++;null!==maxObject[classLevel]&&maxObject[classLevel]<arr[i][classLevel]&&(maxObject=arr[i],maxIndex=i)}else null!==maxObject&&maxObject<arr[i]&&(maxObject=arr[i],maxIndex=i);return BaseUtils.isFunction(cb)&&cb.call(this,maxObject,maxIndex),maxObject},getSumInArray:function(arr,cb){if(this.isArrayObject(arr)){var sum=0,count=0;return this.ergodicArrayObject(this,arr,(function(value){"number"!=typeof value||Number.isNaN(value)||(sum+=value,count+=1)})),BaseUtils.isFunction(cb)&&cb.call(_global,sum,count),sum}},getAverageInArray:function(arr){var average=0;return this.getSumInArray(arr,(function(sum,i){0===i||(average=sum/i)})),average},sortingArrays:function(arr,order,sortSetting){if(this.isArrayObject(arr)){var thisArr=arr.slice(0),_thisAction=null;switch(sortSetting&&sortSetting.getComparedProperty&&BaseUtils.isFunction(sortSetting.getComparedProperty)&&(thisArr=sortSetting.getComparedProperty(arr)),order){default:case 0:_thisAction=thisArr.push;break;case 1:_thisAction=thisArr.unshift}for(var resultArr=[],j=0;j<thisArr.length;j++)this.getMaxInArray(thisArr,(function(max,i){delete thisArr[i],_thisAction.call(resultArr,arr[i])}));return sortSetting&&sortSetting.createNewData?resultArr.slice(0):resultArr}},toArray:function(arrLike){if(!arrLike||0===arrLike.length)return[];if(!arrLike.length)return arrLike;try{return[].slice.call(arrLike)}catch(e){for(var i=0,j=arrLike.length,res=[];i<j;i++)res.push(arrLike[i]);return res}},isArrayLick:function(o){return!!(o&&"object"==typeof o&&isFinite(o.length)&&o.length>=0&&o.length===Math.floor(o.length)&&o.length<4294967296)},contains:function(arr,obj){var contains=!1;return this.ergodicArrayObject(this,arr,(function(a){if(a===obj)return contains=!0,-1})),contains}}})),factory("ObjectUtils",["ArrayUtils","BaseUtils"],(function(ArrayUtils,BaseUtils){return{readLinkProperty:function(obj,linkProperty,cb){var callback=null;if(BaseUtils.isFunction(cb)&&(callback=cb),"string"==typeof linkProperty){if(""===(linkProperty=linkProperty.replace(/ /g,"")))return null;if(-1!==linkProperty.indexOf(",")){var propertyNameArr=linkProperty.split(",");return this.readLinkProperty(obj,propertyNameArr,callback)}if(-1!==linkProperty.indexOf(".")){var names=linkProperty.split("."),iterationObj=obj,result=null;return ArrayUtils.ergodicArrayObject(this,names,(function(name,i){if(iterationObj=this.readLinkProperty(iterationObj,name),names[names.length-1]===name&&names.length-1===i&&(result=iterationObj,callback&&callback.call(_global,result,linkProperty)),void 0===iterationObj)return-1})),result}var normalResult=null;if("()"===linkProperty.slice(linkProperty.length-2)){var func=linkProperty.slice(0,linkProperty.length-2);normalResult=obj[func]()}else normalResult=obj[linkProperty];return callback&&callback.call(_global,normalResult,linkProperty),normalResult}if(BaseUtils.isArray(linkProperty)){var results=[];return ArrayUtils.ergodicArrayObject(this,linkProperty,(function(name){var value=this.readLinkProperty(obj,name);if(results.push(value),callback&&""!==name)return callback.call(_global,value,name)})),results.isMultipleResults=!0,results}},createLinkProperty:function(obj,linkProperty,value){if(null===obj&&(obj={}),"string"==typeof linkProperty){if(""===(linkProperty=linkProperty.replace(/ /g,"")))throw new TypeError("property name of object should not be null");if(-1!==linkProperty.indexOf(",")){var propertyNameArr=linkProperty.split(",");return this.createLinkProperty(obj,propertyNameArr,value),obj}if(-1!==linkProperty.indexOf(".")){var names=linkProperty.split(".");obj.hasOwnProperty(names[0])||(obj[names[0]]={}),Number.isNaN(parseInt(names[0]))||ArrayUtils.isArrayObject(obj)||(obj=[]);var propertyObj=obj[names[0]],newProperties=names.slice(1,names.length),newLinkProperty="";return ArrayUtils.ergodicArrayObject(this,newProperties,(function(property,i){i<newProperties.length-1?newLinkProperty=newLinkProperty+property+".":newLinkProperty+=property})),obj[names[0]]=this.createLinkProperty(propertyObj,newLinkProperty,value),obj}return Number.isNaN(parseInt(linkProperty))||ArrayUtils.isArrayObject(obj)||(obj=[]),obj[linkProperty]=value,obj}if(BaseUtils.isArray(linkProperty))return ArrayUtils.ergodicArrayObject(this,linkProperty,(function(link){obj=this.createLinkProperty(obj,link,value)})),obj},ergodicObject:function(context,obj,cb,isReadInnerObject){var keys=Object.keys(obj);ArrayUtils.ergodicArrayObject(this,keys,(function(propertyName){var _propertyName=propertyName;if(!isReadInnerObject||null===obj[propertyName]||"object"!=typeof obj[propertyName])return cb.call(context,obj[propertyName],propertyName);this.ergodicObject(this,obj[propertyName],(function(value,key){return cb.call(context,value,_propertyName+"."+key)}),!0)}))},whileEmptyObjectProperty:function(context,obj,propertyNames,cb){if("string"==typeof propertyNames){if(""===(propertyNames=propertyNames.replace(/ /g,"")))return;if(-1!==propertyNames.indexOf(",")){var propertyNameArr=propertyNames.split(",");return this.whileEmptyObjectProperty(context,obj,propertyNameArr,cb)}if(-1!==propertyNames.indexOf(".")){var names=propertyNames.split("."),iterationObj=obj,result=null;return ArrayUtils.ergodicArrayObject(this,names,(function(name){if(!iterationObj||!iterationObj.hasOwnProperty(name))return result=cb.call(_global,propertyNames),-1;iterationObj=iterationObj[name]})),result}if(!obj.hasOwnProperty(propertyNames))return cb.call(context,propertyNames);if(null===obj[propertyNames]||""===obj[propertyNames])return cb.call(context,propertyNames)}else if(BaseUtils.isArray(propertyNames)){var _this=this;ArrayUtils.ergodicArrayObject(this,propertyNames,(function(propertyName){return _this.whileEmptyObjectProperty(context,obj,propertyName,cb)}))}},whileEmptyObjectPropertyV2:function(context,obj,propertyNames,cb){this.readLinkProperty(obj,propertyNames,(function(value,propertyName){if(null===value||""===value||parseInt(value)<0)return cb.call(context,propertyName)}))},cloneObject:function(obj){var newObj={};if("string"==typeof obj||"number"==typeof obj||void 0===obj||"function"==typeof obj||"boolean"==typeof obj)return obj;if(BaseUtils.isArray(obj))newObj=[],ArrayUtils.ergodicArrayObject(this,obj,(function(arrObjValue){newObj.push(this.cloneObject(arrObjValue))}));else if("object"==typeof obj){if(null===obj)return null;this.ergodicObject(this,obj,(function(value,key){newObj[key]=this.cloneObject(value)}))}return newObj},getObjHashCode:function(obj){var i,len,str=JSON.stringify(obj),hash=0;if(0===str.length)return hash;for(i=0,len=str.length;i<len;i++)hash=(hash<<5)-hash+str.charCodeAt(i),hash|=0;return hash},expandObject:function(obj,extendedObj,isCover,isClone){var resultObj=obj;return isClone&&(resultObj=this.cloneObject(obj)),this.ergodicObject(this,extendedObj,(function(value,key){isCover&&null!==this.readLinkProperty(resultObj,key)||(resultObj=this.createLinkProperty(resultObj,key,value))}),!0),resultObj},sortingArrayByProperty:function(arr,propertyName,order){var _this=this,sortSetting={createNewData:!1,getComparedProperty:function(arr){var compareArr=[];return ArrayUtils.ergodicArrayObject(_this,arr,(function(obj,i){if("object"!=typeof obj)compareArr.push(obj);else{var compareValue=this.readLinkProperty(obj,propertyName);null!==compareValue?compareArr.push(compareValue):compareArr.push(obj)}})),compareArr.slice(0)}};return ArrayUtils.sortingArrays(arr,order,sortSetting)},toAimObject:function(obj,constructor,defaultProperty){if(BaseUtils.isArray(obj)){var originArr=[];return ArrayUtils.ergodicArrayObject(this,obj,(function(value){originArr.push(this.toAimObject(value,constructor,defaultProperty))})),originArr}if("object"==typeof obj){if(defaultProperty&&this.ergodicObject(this,defaultProperty,(function(value,key){null===obj[key]&&(obj[key]=value)})),obj instanceof constructor)return obj;for(var originObj=obj;null!==originObj.__proto__&&originObj.__proto__!==Object.prototype;)originObj=originObj.__proto__;return originObj.__proto__=constructor.prototype,originObj}},parseTheSameObjectPropertyInArray:function(arr,propertyNames){var result={},temp={};return ArrayUtils.ergodicArrayObject(this,arr,(function(obj){this.readLinkProperty(obj,propertyNames,(function(value,property){temp.hasOwnProperty(property)&&BaseUtils.isArray(temp[property])||(temp[property]=[]),temp[property].push(value)}))})),this.ergodicObject(this,temp,(function(value,key){result=this.createLinkProperty(result,key,value)})),this.cloneObject(result)},parseTheSameObjectAllPropertyInArray:function(arr){if(ArrayUtils.isArrayObject(arr)&&!(arr.length<1)){var propertyNames=[];return this.ergodicObject(this,arr[0],(function(v,k){propertyNames.push(k)}),!0),this.parseTheSameObjectPropertyInArray(arr,propertyNames)}},getCalculationInArrayByLinkPropertyNames:function(obj,propertyNames,type){var resultObject={},_this=this;switch(type){default:case"sum":this.readLinkProperty(obj,propertyNames,(function(value,key){ArrayUtils.isArrayObject(value)&&(resultObject=_this.createLinkProperty(resultObject,key,ArrayUtils.getSumInArray(value)))}));break;case"average":this.readLinkProperty(obj,propertyNames,(function(value,key){ArrayUtils.isArrayObject(value)&&(resultObject=_this.createLinkProperty(resultObject,key,ArrayUtils.getAverageInArray(value)))}))}return resultObject}}})),factory("ColorUtils",[],(function(){return{rgbToHex:function(r,g,b){var hex=(r<<16|g<<8|b).toString(16);return"#"+new Array(Math.abs(hex.length-7)).join("0")+hex},hexToRgb:function(hex){var rgb=[];switch((hex=hex.replace(/ /g,"")).length){case 4:return rgb.push(parseInt(hex[1]+hex[1],16)),rgb.push(parseInt(hex[2]+hex[2],16)),rgb.push(parseInt(hex[3]+hex[3],16)),rgb;case 7:for(var i=1;i<7;i+=2)rgb.push(parseInt("0x"+hex.slice(i,i+2)));return rgb}},gradientColorsPercentage:function(start,end,percentage){var resultRgb=[],startRgb=this.hexToRgb(start);if(null==end)return start;var endRgb=this.hexToRgb(end),totalR=endRgb[0]-startRgb[0],totalG=endRgb[1]-startRgb[1],totalB=endRgb[2]-startRgb[2];return resultRgb.push(startRgb[0]+totalR*percentage),resultRgb.push(startRgb[1]+totalG*percentage),resultRgb.push(startRgb[2]+totalB*percentage),this.rgbToHex(resultRgb[0],resultRgb[1],resultRgb[2])}}})),factory("FunctionUtils",[],(function(){return{getFunctionName:function(func){if("function"==typeof func||"object"==typeof func)var name=(""+func).match(/function\s*([\w\$]*)\s*\(/);return func.name||name[1]},getFunctionParams:function(func){if("function"==typeof func||"object"==typeof func)return(""+func).match(/function.*\(([^)]*)\)/)[1].replace(/( )|(\n)/g,"").split(",")},getCallerName:function(func_arguments){var caller=func_arguments.callee.caller,callerName="";return caller&&(callerName=this.getFunctionName(caller)),callerName},FunctionBuilder:function(func){var _this=this,fs=[];fs.push(func),map.call(["push","unshift","slice","map","forEach","keys","find","concat","fill","shift","values"],(function(property){"function"==typeof Array.prototype[property]&&Object.defineProperty(_this,property,{get:function(){return function(){return fs[property].apply(fs,arguments),this}}})})),this.result=function(context){var rfs=[];return map.call(fs,(function(f,index){"function"==typeof f&&rfs.push(f)})),function(){var declareVar={arguments:arguments,this:this};return map.call(rfs,(function(f){var dv=f.apply(context||this,[declareVar]);dv&&map.call(Object.keys(dv),(function(key){declareVar[key]=dv[key]}))})),declareVar.returnValue}}},invokeMethods:function(context,methods,args){if(this.isArray(methods)){var results=[],_this=this;return this.ergodicArrayObject(context,methods,(function(method){_this.isFunction(method)&&results.push(method.apply(context,args))})),results}}}})),factory("UrlUtils",[],(function(){return{urlMatching:function(url,matchUrl){return new RegExp(matchUrl).test(url)},getUrlWithoutParam:function(url){return url.split("?")[0]},getParamFromUrl:function(url){var params=[],parts=url.split("?");if(parts.length<2)return params;for(var paramsStr=parts[1].split("&"),i=0;i<paramsStr.length;i++){var index=paramsStr[i].indexOf("="),ps=new Array(2);-1!==index?ps=[paramsStr[i].substring(0,index),paramsStr[i].substring(index+1)]:ps[0]=paramsStr[i],params.push({key:ps[0],value:ps[1]})}return params},margeUrlAndParams:function(url,params){if(-1!==url.indexOf("?")||!(params instanceof Array))return url;for(var paramsStr=[],i=0;i<params.length;i++)null!==params[i].key&&null!==params[i].value&&paramsStr.push(params[i].key+"="+params[i].value);return url+"?"+paramsStr.join("&")}}})),factory("PointUtils",[],(function(){var Point2D=function(x,y){this.x=x||0,this.y=y||0};return Point2D.prototype={constructor:Point2D,getOtherPointFromDistanceAndDeg:function(distance,deg){var radian=Math.PI/180*deg,point=new this.constructor;return point.x=distance*Math.sin(radian)+this.x,point.y=this.y-distance*Math.cos(radian),point},getDistanceFromAnotherPoint:function(p){return Math.sqrt((this.x-p.x)*(this.x-p.x)+(this.y-p.y)*(this.y-p.y))},getDegFromAnotherPoint:function(p){var usedPoint=new Point2D(1e6*p.x-1e6*this.x,1e6*p.y-1e6*this.y);return 180-180*Math.atan2(1e6*usedPoint.x,1e6*usedPoint.y)/Math.PI},isInRect:function(x,y,width,height){var px=this.x,py=this.y;return!(px<x||px>x+width||py<y||py>y+height)}},{Point2D:Point2D}})),factory("PropExpand",["BaseUtils","ObjectUtils","ArrayUtils","UrlUtils"],(function(BaseUtils,ObjectUtils,ArrayUtils,UrlUtils){return{Object:{getProperty:function(_self,propertyLink){return ObjectUtils.readLinkProperty(_self,propertyLink)},setProperty:function(_self,propertyLink,value){ObjectUtils.createLinkProperty(_self,propertyLink,value)},mapConvert:function(_self,mapper){},keyMap:function(_self,cb){},keyValues:function(_self,cb){},keyFilter:function(_self,cb){}},Array:{map:function(){},forEach:function(){},filter:function(){},reduce:function(){},keep:function(){},remove:function(){}},String:{join:function(_self,arr){}}}})),_global.everyUtils=function(){if(BaseUtils.isArray(arguments[0]))depend.call(arguments[2]||this,arguments[0],arguments[1]);else if(BaseUtils.isFunction(arguments[0])){var args=arguments;depend.call(arguments[1]||this,["FunctionUtils"],(function(FunctionUtils){var depends=FunctionUtils.getFunctionParams(args[0]);depend(depends,args[0])}))}},_global.eUtils=function(){var utils={};_global.everyUtils&&_global.everyUtils(["ArrayUtils","ObjectUtils","BaseUtils","FunctionUtils","ColorUtils","PointUtils","UrlUtils"],(function(ArrayUtils,ObjectUtils,BaseUtils,FunctionUtils,ColorUtils,PointUtils,UrlUtils){utils={ArrayUtils:ArrayUtils,ObjectUtils:ObjectUtils,BaseUtils:BaseUtils,ColorUtils:ColorUtils,UrlUtils:UrlUtils,urlUtils:UrlUtils,PointUtils:PointUtils,FunctionUtils:FunctionUtils}}));var proxy={};return forEach.call(Object.keys(utils),(function(utilName){utilName&&(Object.defineProperty(proxy,utilName,{get:function(){return utils[utilName]}}),forEach.call(Object.keys(utils[utilName]),(function(key){key&&(proxy[key]||Object.defineProperty(proxy,key,{get:function(){return utils[utilName][key]}}))})))})),proxy}(),_global.eUtils}))}],__webpack_module_cache__={},function __webpack_require__(moduleId){if(__webpack_module_cache__[moduleId])return __webpack_module_cache__[moduleId].exports;var module=__webpack_module_cache__[moduleId]={exports:{}};return __webpack_modules__[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.exports}(0);var __webpack_modules__,__webpack_module_cache__})),window.isDOMLoaded=!1,window.isDOMRendered=!1,document.addEventListener("readystatechange",(function(){"interactive"!==document.readyState&&"complete"!==document.readyState||(window.isDOMLoaded=!0)}));"use strict";async function getYtWebPApi(url,videoId,clientVersion){const rawResponse=await fetch(url,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({videoId:videoId,context:{client:{clientName:"WEB",clientVersion:clientVersion}}})});await rawResponse.json()}(async()=>{let targetId=null;try{targetId=Number(localStorage._intercept_mediastream_)}catch(e){}if(!targetId)return;setTimeout((()=>{delete localStorage._intercept_mediastream_}),1e4);const WebExtensions=navigator.userAgent.includes("Chrome")?chrome:browser,transposer=document.createElement("div");transposer.id="_intercepter_",transposer.addEventListener("click",(evt=>{const params={targetId:targetId};for(const name of transposer.getAttributeNames())params[name]=transposer.getAttribute(name);try{WebExtensions.runtime.sendMessage({cmd:"intercept_ondata",params:params,msgSender:"cocoParser"})}catch(e){}})),document.documentElement.appendChild(transposer);const _s="("+(()=>{const transposer=document.querySelector("#_intercepter_");if(!transposer)return;const transpose=params=>{for(const key in params)transposer.setAttribute(key,params[key]);transposer.click()},now=()=>(new Date).getTime(),mediasource=MediaSource;MediaSource=class extends mediasource{constructor(){super(arguments),this._mediaSourceId=Math.floor(1e10*Math.random())}addSourceBuffer(mimeType){const sourceBuffer=super.addSourceBuffer.apply(this,arguments),appendBuffer=sourceBuffer.appendBuffer;sourceBuffer._bufferId=Math.floor(1e10*Math.random());const _self=this;return sourceBuffer.appendBuffer=function(buffer){if(buffer.length||buffer.byteLength){const a=new Blob([buffer]),url=URL.createObjectURL(a);transpose({url:url,mimeType:mimeType,mediaSourceId:_self._mediaSourceId,bufferId:this._bufferId,timestamp:now()}),setTimeout((()=>{URL.revokeObjectURL(url)}),6e4)}appendBuffer.apply(this,arguments)},sourceBuffer.addEventListener("abort",(()=>{transpose({url:"abort",mimeType:"",mediaSourceId:_self._mediaSourceId,bufferId:this._bufferId,timestamp:now()})})),sourceBuffer}}}).toString()+")();",s=document.createElement("script");s.innerText=_s,setTimeout((()=>{document.head.appendChild(s)}),0)})();